
<!DOCTYPE html>
<html lang="zh">
    <head>
        <meta charset="utf-8" />
        <title>WSLä¸Docker | ZSpacesçš„ä¸ªäººåšå®¢</title>
        <meta name="author" content="zhwuyuhehe" />
        <meta name="description" content="æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/favicon.png" />
        <script src="https://cdn.staticfile.org/vue/3.3.4/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="/css/fonts.min.css" />
<script> const mixins = {}; </script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>


<script src="https://cdn.staticfile.org/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdn.staticfile.org/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.staticfile.org/highlight.js/11.8.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.js"></script>
<script src="https://cdn.staticfile.org/KaTeX/0.16.8/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>åŠ è½½è¿‡æ…¢è¯·å¼€å¯ç¼“å­˜ æµè§ˆå™¨é»˜è®¤å¼€å¯</p>
                        <img src="/images/loading.gif" alt="åŠ è½½ä¸­" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>ZSPACESçš„ä¸ªäººåšå®¢</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;ä¸»é¡µ</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;å…³äº</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;å½’æ¡£</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;åˆ†ç±»</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;æ ‡ç­¾</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;ZSPACESçš„ä¸ªäººåšå®¢</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">ä¸»é¡µ</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å…³äº</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">å½’æ¡£</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">åˆ†ç±»</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">æ ‡ç­¾</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

            <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                <div class="article">
    <div>
        <h1>WSLä¸Docker</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2023/8/17
        </span>
        
        <span class="category">
            <a href="/categories/%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                é…ç½®æ•™ç¨‹
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/WSL/" style="color: #ff7d73">WSL</a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Docker/" style="color: #ffa2c4">Docker</a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <!-- @import "[TOC]" {cmd="toc" depthFrom=1 depthTo=6 orderedList=false} -->
<!-- code_chunk_output -->
<ul>
<li><a href="#é…ç½®windowsåŠŸèƒ½">é…ç½®WindowsåŠŸèƒ½</a></li>
<li><a href="#é…ç½®wsl2å®‰è£…ubuntu">é…ç½®WSL2ï¼Œå®‰è£…Ubuntu</a>
<ul>
<li><a href="#å®‰è£…ä¸åˆå§‹åŒ–">å®‰è£…ä¸åˆå§‹åŒ–</a></li>
<li><a
href="#å¦‚æœä½ ä¹ æƒ¯æˆ–éœ€è¦systemdæ¥ç®¡ç†ä½ çš„wsl">å¦‚æœä½ ä¹ æƒ¯æˆ–éœ€è¦systemdæ¥ç®¡ç†ä½ çš„WSL</a></li>
</ul></li>
<li><a href="#ä¸‹è½½ä¸å®‰è£…docker">ä¸‹è½½ä¸å®‰è£…Docker</a></li>
<li><a href="#å®Œæˆä¸æµ‹è¯•">å®Œæˆä¸æµ‹è¯•</a>
<ul>
<li><a href="#æŸ¥çœ‹dockerç‰ˆæœ¬">æŸ¥çœ‹Dockerç‰ˆæœ¬</a></li>
<li><a href="#æµ‹è¯•dockerè¿è¡Œhello-world">æµ‹è¯•Dockerè¿è¡ŒHello
World</a></li>
</ul></li>
</ul>
<!-- /code_chunk_output -->
<h2 id="é…ç½®windowsåŠŸèƒ½">é…ç½®WindowsåŠŸèƒ½</h2>
<p>æ‰“å¼€WindowsåŠŸèƒ½é¢æ¿</p>
<p>å‹¾é€‰<code>é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ</code>ä¸<code>è™šæ‹Ÿæœºå¹³å°</code>è¿™ä¸¤ä¸ªåŠŸèƒ½</p>
<p><img src="/Pics/WSLä¸Docker_p1.jpg" style="width:50%;" alt="æœ¬åœ°å›¾ç‰‡æµ‹è¯•" /></p>
<p>å‹¾é€‰å®Œæˆåï¼Œç‚¹å‡»ç¡®å®šã€‚æœ‰å¯èƒ½éœ€è¦é‡å¯ï¼Œé‡å¯å³å¯ã€‚</p>
<hr />
<h2 id="é…ç½®wsl2å®‰è£…ubuntu">é…ç½®WSL2ï¼Œå®‰è£…Ubuntu</h2>
<h3 id="å®‰è£…ä¸åˆå§‹åŒ–">å®‰è£…ä¸åˆå§‹åŒ–</h3>
<p>æŒ‰ä¸‹Windows+Xï¼Œé€‰æ‹©Windows PowerShell(ç®¡ç†å‘˜)ã€‚</p>
<p>æ­¤åçš„æ‰€æœ‰CMDæŒ‡ä»¤éƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼Œæ¯æ¬¡éƒ½éœ€è¦é€‰æ‹©ç®¡ç†å‘˜æ¨¡å¼æ‰“å¼€ã€‚</p>
<p>åœ¨powershellä¸­è¾“å…¥<code>wsl --set-default-version 2</code>ï¼Œè®¾ç½®WSLç‰ˆæœ¬ä¸º2ã€‚</p>
<p>åœ¨å¾®è½¯å•†åº—ä¸­æœç´¢<code>Ubuntu</code>ï¼Œé€‰æ‹©<code>Ubuntu 22.04.2 LTS</code>ï¼Œç‚¹å‡»è·å–ã€‚</p>
<p>å®Œæˆå®‰è£…åæ‰“å¼€ï¼Œè¿›è¡Œåˆå§‹åŒ–é…ç½®ï¼Œè¾“å…¥ä½ çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œæ­¤å¯†ç åŒæ—¶ä½œä¸ºç®¡ç†å‘˜å¯†ç ã€‚</p>
<p>è¾“å…¥æŒ‡ä»¤<code>sudo apt update</code>ï¼Œæ›´æ–°aptæºã€‚éšåè¾“å…¥<code>sudo apt upgrade</code>ï¼Œå‡çº§aptæºã€‚</p>
<p>è¾“å…¥<code>apt install language-pack-zh-hans*</code>ï¼Œå®‰è£…ä¸­æ–‡è¯­è¨€åŒ…ã€‚</p>
<p>è¾“å…¥<code>cd /etc/default</code>ï¼Œè¿›å…¥è¯­è¨€è®¾ç½®æ–‡ä»¶ç›®å½•ã€‚</p>
<p>è¾“å…¥<code>sudo vim locale</code>ï¼Œç¼–è¾‘è¯­è¨€è®¾ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨æ–‡ä»¶ä¸­æ‰¾åˆ°<code>LANG</code>ï¼Œå°†å…¶å€¼ä¿®æ”¹ä¸º<code>LANG="zh_CN.utf8"</code>ï¼Œä¿å­˜å¹¶é€€å‡ºã€‚</p>
<p>å…³é—­æ§åˆ¶å°çª—å£ï¼Œé‡æ–°æ‰“å¼€ä¸€ä¸ªpower
shellçª—å£ï¼Œè¾“å…¥<code>wsl --shutdown</code>ï¼Œå…³é—­WSLã€‚</p>
<p>å†æ¬¡è¾“å…¥wslï¼Œæ‰“å¼€WSLï¼Œè¾“å…¥<code>locale</code>ï¼ŒæŸ¥çœ‹è¯­è¨€è®¾ç½®æ˜¯å¦æˆåŠŸã€‚</p>
<h3
id="å¦‚æœä½ ä¹ æƒ¯æˆ–éœ€è¦systemdæ¥ç®¡ç†ä½ çš„wsl">å¦‚æœä½ ä¹ æƒ¯æˆ–éœ€è¦systemdæ¥ç®¡ç†ä½ çš„WSL</h3>
<p>åœ¨Ubuntuä¸­è¾“å…¥<code>echo -e "[boot]\nsystemd = true" &gt; /etc/wsl.conf</code>ï¼Œåˆ›å»ºWSLé…ç½®æ–‡ä»¶ã€‚</p>
<p>åœ¨powershellä¸­è¾“å…¥<code>wsl --shutdown</code>ï¼Œå…³é—­WSLã€‚</p>
<p>è¾“å…¥<code>wsl --update</code>ï¼Œæ›´æ–°WSLã€‚æ­¤æ—¶ä¼šå®‰è£…Windows Subsystem
for Linuxã€‚</p>
<p>å®‰è£…å®Œæˆåï¼Œè¾“å…¥<code>wsl</code>ï¼Œæ‰“å¼€WSLï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤è¿›è¡Œç¡®è®¤ï¼š<code>systemctl list-unit-files --type=service</code>ï¼Œè¯¥å‘½ä»¤å°†æ˜¾ç¤ºæœåŠ¡çš„çŠ¶æ€ã€‚</p>
<hr />
<h2 id="ä¸‹è½½ä¸å®‰è£…docker">ä¸‹è½½ä¸å®‰è£…Docker</h2>
<p>åœ¨å®˜ç½‘ä¸Šä¸‹è½½Docker Desktop for Windowsï¼Œå®‰è£…å®Œæˆåï¼Œæ‰“å¼€Docker
Desktopã€‚</p>
<p>åœ¨ä¸Šæ–¹èœå•æ ä¸­é€‰æ‹©é½¿è½®æŒ‰é’®ï¼Œæ‰“å¼€è®¾ç½®ã€‚åœ¨å·¦ä¾§èœå•æ ä¸­ç‚¹å‡»Resourcesé€‰æ‹©WSL
Integrationã€‚</p>
<p><img src="/Pics/WSLä¸Docker_p2.jpg" style="width:80%;" alt="æœ¬åœ°å›¾ç‰‡æµ‹è¯•" /></p>
<p>åœ¨å³ä¾§çš„WSL Integrationä¸­ï¼Œå‹¾é€‰Ubuntu-22.04ï¼Œç‚¹å‡»Apply &amp;
Restartã€‚</p>
<p>å¦‚æœä½ çš„Cç›˜å®¹é‡å‘Šæ€¥ï¼Œåœ¨Resourcesä¸­æ‰¾åˆ°Advancedï¼Œç‚¹å‡»è¿›å…¥ã€‚</p>
<p>æŠŠ<code>Disk image location</code>ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ä½ç½®ï¼Œç‚¹å‡»Apply &amp;
Restartã€‚</p>
<hr />
<h2 id="å®Œæˆä¸æµ‹è¯•">å®Œæˆä¸æµ‹è¯•</h2>
<p>åœ¨powershellä¸­è¾“å…¥<code>wsl</code>ï¼Œæ‰“å¼€WSLã€‚</p>
<h3 id="æŸ¥çœ‹dockerç‰ˆæœ¬">æŸ¥çœ‹Dockerç‰ˆæœ¬</h3>
<p>è¾“å…¥<code>docker version</code>ï¼ŒæŸ¥çœ‹Dockerç‰ˆæœ¬ã€‚</p>
<pre class="bash"><code>$ docker version

Client: Docker Engine - Community
Cloud integration: v1.0.35-desktop+001
Version:           24.0.5
 API version:       1.43
 Go version:        go1.20.6
 Git commit:        ced0996
 Built:             Fri Jul 21 20:35:45 2023
 OS/Arch:           linux/amd64
 Context:           default

Server: Docker Desktop
 Engine:
  Version:          24.0.5
  API version:      1.43 (minimum version 1.12)
  Go version:       go1.20.6
  Git commit:       a61e2b4
  Built:            Fri Jul 21 20:35:45 2023
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          1.6.21
  GitCommit:        3dce8eb055cbb6872793272b4f20ed16117344f8
 runc:
  Version:          1.1.7
  GitCommit:        v1.1.7-0-g860f061
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0
</code></pre>
<h3 id="æµ‹è¯•dockerè¿è¡Œhello-world">æµ‹è¯•Dockerè¿è¡ŒHello World</h3>
<p>è¾“å…¥<code>docker run hello-world</code>ï¼Œæµ‹è¯•Dockeræ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p>
<pre class="bash"><code>
$ docker run hello-world

Hello from Docker!

This message shows that your installation appears to be working correctly.
 
 To generate this message, Docker took the following steps:

 1. The Docker client contacted the Docker daemon.

 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.(amd64)

 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.

 4. The Docker daemon streamed that output to the Docker client, which sent it
   to your terminal.
 
 To try something more ambitious, you can run an Ubuntu container with:
  $ docker run -it ubuntu bash
 
 Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/
 
For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre>
<hr />
<p>æ­å–œä½ ï¼Œä½ å·²ç»æˆåŠŸé…ç½®äº†WSL2ä¸Dockerã€‚ğŸ‰ğŸ‰ğŸ‰</p>
<center>
<a href="#layout">è¿”å›é¡¶éƒ¨</a>
</center>

    </div>
    
    
    
    
    <div id="comment">
        <div id="giscus-container" class="giscus"></div>
    </div>
    
    
    
    
</div>

                <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2023 - 2023 ZSpacesçš„ä¸ªäººåšå®¢
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;zhwuyuhehe
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

            </div>
            
            <transition name="fade">
                <div id="preview" ref="preview" v-show="previewShow">
                    <img id="preview-content" ref="previewContent" alt="é¢„è§ˆåŠ è½½" />
                </div>
            </transition>
            
        </div>
        <script src="/js/main.js"></script>
        
        
<script
    src="https://giscus.app/client.js"
    data-repo="zhwuyuhehe/zhwuyuhehe.github.io"
    data-repo-id="R_kgDOKHFv7Q"
    data-category="Announcements"
    data-category-id="DIC_kwDOKHFv7c4CYn6U"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="zh-CN"
    crossorigin
    async
></script>





        
    </body>
</html>
